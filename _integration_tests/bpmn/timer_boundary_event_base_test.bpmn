<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_03x2tll" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.13.1">
  <bpmn:collaboration id="test_lane">
    <bpmn:participant id="simple_timer_event" name="simple_timer_event" processRef="timer_boundary_event_base_test">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
      </bpmn:extensionElements>
    </bpmn:participant>
  </bpmn:collaboration>
  <bpmn:process id="timer_boundary_event_base_test" name="" isExecutable="true">
    <bpmn:extensionElements>
      <camunda:properties>
        <camunda:property name="role" value="agend" />
      </camunda:properties>
    </bpmn:extensionElements>
    <bpmn:laneSet>
      <bpmn:lane id="Lane_1u7vyfz" name="Lane">
        <bpmn:extensionElements>
          <camunda:executionListener class="" event="" />
          <camunda:properties />
        </bpmn:extensionElements>
        <bpmn:flowNodeRef>Task2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_01</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task3</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task4</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task5</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task6</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Objectify</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_0nvdzre</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>XORJoin2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>TimerBoundary2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>XORJoin1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>TimerBoundary1</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:serviceTask id="Task2" name="Run 5 seconds">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="module" value="ServiceTaskTestService" />
          <camunda:property name="method" value="delay" />
          <camunda:property name="params" value="[5, token.current]" />
        </camunda:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_08kb722</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_14jiq0l</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Task1" name="Set the current time">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1prtsq8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08kb722</bpmn:outgoing>
      <bpmn:script>return new Date();</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:startEvent id="StartEvent_01" name="Start">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
        <camunda:properties />
        <camunda:properties />
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_1prtsq8</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_14jiq0l" sourceRef="Task2" targetRef="XORJoin1" />
    <bpmn:sequenceFlow id="SequenceFlow_1prtsq8" sourceRef="StartEvent_01" targetRef="Task1" />
    <bpmn:scriptTask id="Task3" name="Set the elapsed time">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1iiqhsf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1bz7nwc</bpmn:outgoing>
      <bpmn:script>return Math.trunc(((new Date() - token.current) / 1000));</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:endEvent id="EndEvent_0nvdzre" name="End">
      <bpmn:incoming>SequenceFlow_15ylane</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:scriptTask id="Task4" name="Set the current time">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1bz7nwc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_05cys2n</bpmn:outgoing>
      <bpmn:script>return new Date();</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:exclusiveGateway id="XORJoin2">
      <bpmn:incoming>SequenceFlow_0bhso0q</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0gr1k1o</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0wpbuzl</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Task5" name="Run 2 seconds">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="module" value="ServiceTaskTestService" />
          <camunda:property name="method" value="delay" />
          <camunda:property name="params" value="[2, token.current]" />
        </camunda:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_05cys2n</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0bhso0q</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="TimerBoundary2" name="Break after 5 seconds" attachedToRef="Task5">
      <bpmn:outgoing>SequenceFlow_0gr1k1o</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P0Y0M0DT0H0M5S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:scriptTask id="Task6" name="Set the elapsed time">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
        <camunda:properties />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0wpbuzl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0u6sihq</bpmn:outgoing>
      <bpmn:script>return Math.trunc(((new Date() - token.current) / 1000));</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="Objectify" name="Objectify Token">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
        <camunda:properties />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0u6sihq</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_15ylane</bpmn:outgoing>
      <bpmn:script>return JSON.parse(JSON.stringify(token));</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_1bz7nwc" sourceRef="Task3" targetRef="Task4" />
    <bpmn:sequenceFlow id="SequenceFlow_15ylane" sourceRef="Objectify" targetRef="EndEvent_0nvdzre" />
    <bpmn:sequenceFlow id="SequenceFlow_05cys2n" sourceRef="Task4" targetRef="Task5" />
    <bpmn:sequenceFlow id="SequenceFlow_0bhso0q" sourceRef="Task5" targetRef="XORJoin2" />
    <bpmn:sequenceFlow id="SequenceFlow_0gr1k1o" sourceRef="TimerBoundary2" targetRef="XORJoin2" />
    <bpmn:sequenceFlow id="SequenceFlow_0wpbuzl" sourceRef="XORJoin2" targetRef="Task6" />
    <bpmn:sequenceFlow id="SequenceFlow_0u6sihq" name="" sourceRef="Task6" targetRef="Objectify">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_08kb722" sourceRef="Task1" targetRef="Task2" />
    <bpmn:exclusiveGateway id="XORJoin1">
      <bpmn:incoming>SequenceFlow_14jiq0l</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1cqa2qz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1iiqhsf</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:boundaryEvent id="TimerBoundary1" name="Break after 2 seconds" attachedToRef="Task2">
      <bpmn:extensionElements>
        <camunda:executionListener class="" event="" />
        <camunda:properties />
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_1cqa2qz</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P0Y0M0DT0H0M2S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1cqa2qz" sourceRef="TimerBoundary1" targetRef="XORJoin1" />
    <bpmn:sequenceFlow id="SequenceFlow_1iiqhsf" sourceRef="XORJoin1" targetRef="Task3" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="test_lane">
      <bpmndi:BPMNShape id="Participant_0lwaarm_di" bpmnElement="simple_timer_event">
        <dc:Bounds x="116" y="49" width="1740" height="362" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_010chlc_di" bpmnElement="Task2">
        <dc:Bounds x="406" y="189" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ScriptTask_1hnoine_di" bpmnElement="Task1">
        <dc:Bounds x="256" y="189" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0nvdzre_di" bpmnElement="EndEvent_0nvdzre">
        <dc:Bounds x="1773" y="211" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1781" y="250" width="20" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_16du69e_di" bpmnElement="StartEvent_01">
        <dc:Bounds x="170" y="211.07" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="176" y="250" width="24" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_14jiq0l_di" bpmnElement="SequenceFlow_14jiq0l">
        <di:waypoint x="506" y="229" />
        <di:waypoint x="637" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="527" y="208" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1prtsq8_di" bpmnElement="SequenceFlow_1prtsq8">
        <di:waypoint x="206" y="229" />
        <di:waypoint x="256" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="186" y="208" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Lane_1u7vyfz_di" bpmnElement="Lane_1u7vyfz">
        <dc:Bounds x="146" y="49" width="1710" height="362" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ScriptTask_0oxhr9u_di" bpmnElement="Task3">
        <dc:Bounds x="739" y="189" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ScriptTask_1uzt89f_di" bpmnElement="Task4">
        <dc:Bounds x="911" y="189" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_08d5u3m_di" bpmnElement="XORJoin2" isMarkerVisible="true">
        <dc:Bounds x="1281" y="204" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1306" y="180.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1bz7nwc_di" bpmnElement="SequenceFlow_1bz7nwc">
        <di:waypoint x="839" y="229" />
        <di:waypoint x="911" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="875" y="207.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_05cys2n_di" bpmnElement="SequenceFlow_05cys2n">
        <di:waypoint x="1011" y="229" />
        <di:waypoint x="1056" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1033.5" y="207.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_06aycli_di" bpmnElement="Task5">
        <dc:Bounds x="1056" y="189" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0s0q33f_di" bpmnElement="TimerBoundary2">
        <dc:Bounds x="1138" y="251" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1177" y="256" width="63" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0bhso0q_di" bpmnElement="SequenceFlow_0bhso0q">
        <di:waypoint x="1156" y="229" />
        <di:waypoint x="1281" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1218.5" y="207" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0gr1k1o_di" bpmnElement="SequenceFlow_0gr1k1o">
        <di:waypoint x="1156" y="288" />
        <di:waypoint x="1156" y="302" />
        <di:waypoint x="1306" y="302" />
        <di:waypoint x="1306" y="254" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1231" y="280.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0wpbuzl_di" bpmnElement="SequenceFlow_0wpbuzl">
        <di:waypoint x="1331" y="229" />
        <di:waypoint x="1427" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1379" y="207.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_1hdecni_di" bpmnElement="Task6">
        <dc:Bounds x="1427" y="189" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0u6sihq_di" bpmnElement="SequenceFlow_0u6sihq">
        <di:waypoint x="1527" y="229" />
        <di:waypoint x="1595" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1561" y="207.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_04p2d40_di" bpmnElement="Objectify">
        <dc:Bounds x="1595" y="189" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_15ylane_di" bpmnElement="SequenceFlow_15ylane">
        <di:waypoint x="1695" y="229" />
        <di:waypoint x="1773" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1734" y="207.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_08kb722_di" bpmnElement="SequenceFlow_08kb722">
        <di:waypoint x="356" y="229" />
        <di:waypoint x="406" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="381" y="207" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ons7lm_di" bpmnElement="XORJoin1" isMarkerVisible="true">
        <dc:Bounds x="637" y="204" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="617" y="180.5" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0advcip_di" bpmnElement="TimerBoundary1">
        <dc:Bounds x="488" y="251" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="531" y="257" width="63" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1cqa2qz_di" bpmnElement="SequenceFlow_1cqa2qz">
        <di:waypoint x="506" y="287" />
        <di:waypoint x="506" y="303" />
        <di:waypoint x="662" y="303" />
        <di:waypoint x="662" y="254" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="539" y="282" width="90" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1iiqhsf_di" bpmnElement="SequenceFlow_1iiqhsf">
        <di:waypoint x="687" y="229" />
        <di:waypoint x="739" y="229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="713" y="207" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
