<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definition_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.13.1">
  <bpmn:collaboration id="Collaboration_1cidyxu">
    <bpmn:participant id="Participant_0px403d" name="[XOR4]Nestend XOR" processRef="xor_gateway_nested" />
  </bpmn:collaboration>
  <bpmn:process id="xor_gateway_nested" name="[XOR4]Nestend XOR" isExecutable="false">
    <bpmn:laneSet>
      <bpmn:lane id="Lane_1xzf0d3" name="Lane">
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>XORSplit1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>XORSplit2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task4</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>XORJoin2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task3</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>XORJoin1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task6</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Objectify</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task5</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:startEvent id="StartEvent_1" name="[XOR4]Nestend XOR">
      <bpmn:outgoing>SequenceFlow_0d8w0rw</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0d8w0rw" name="" sourceRef="StartEvent_1" targetRef="Task1" />
    <bpmn:scriptTask id="Task1" name="Return 1">
      <bpmn:incoming>SequenceFlow_0d8w0rw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ki3kdr</bpmn:outgoing>
      <bpmn:script>return 1</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:exclusiveGateway id="XORSplit1" name="">
      <bpmn:incoming>SequenceFlow_1ki3kdr</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_03wd2mx</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1wfvd39</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1ki3kdr" sourceRef="Task1" targetRef="XORSplit1" />
    <bpmn:sequenceFlow id="SequenceFlow_03wd2mx" name="Tokem value is not 1" sourceRef="XORSplit1" targetRef="Task3">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">token.current != 1</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1ggq5hl" name="" sourceRef="Task2" targetRef="XORSplit2" />
    <bpmn:exclusiveGateway id="XORSplit2" name="">
      <bpmn:incoming>SequenceFlow_1ggq5hl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0dyanim</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_179mjcx</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0dyanim" name="Token value is 2" sourceRef="XORSplit2" targetRef="Task4">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">token.current == 2</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:scriptTask id="Task4" name="Increment Token Value" scriptFormat="">
      <bpmn:incoming>SequenceFlow_0dyanim</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_003m52o</bpmn:outgoing>
      <bpmn:script>return token.current +1</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_179mjcx" name="Token value is not 2" sourceRef="XORSplit2" targetRef="Task5">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">token.current != 2</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_003m52o" sourceRef="Task4" targetRef="XORJoin2" />
    <bpmn:sequenceFlow id="SequenceFlow_18ovsv0" sourceRef="Task5" targetRef="XORJoin2" />
    <bpmn:exclusiveGateway id="XORJoin2" name="">
      <bpmn:incoming>SequenceFlow_003m52o</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_18ovsv0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0d75n6a</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0d75n6a" sourceRef="XORJoin2" targetRef="Task6" />
    <bpmn:sequenceFlow id="SequenceFlow_0rk4s8x" name="" sourceRef="Task6" targetRef="XORJoin1" />
    <bpmn:scriptTask id="Task2" name="Increment Current Token Value">
      <bpmn:incoming>SequenceFlow_1wfvd39</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ggq5hl</bpmn:outgoing>
      <bpmn:script>return token.current + 1</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="Task3" name="Throw Exception">
      <bpmn:incoming>SequenceFlow_03wd2mx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0dmyg5b</bpmn:outgoing>
      <bpmn:script>throw Error("This Path should be ")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_0dmyg5b" name="" sourceRef="Task3" targetRef="XORJoin1" />
    <bpmn:sequenceFlow id="SequenceFlow_0lfa1kc" name="" sourceRef="XORJoin1" targetRef="Objectify" />
    <bpmn:exclusiveGateway id="XORJoin1" name="">
      <bpmn:incoming>SequenceFlow_0dmyg5b</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0rk4s8x</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0lfa1kc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1ypfl9c" sourceRef="Objectify" targetRef="EndEvent" />
    <bpmn:endEvent id="EndEvent" name="End">
      <bpmn:incoming>SequenceFlow_1ypfl9c</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:scriptTask id="Task6" name="Increment Token Value" scriptFormat="">
      <bpmn:incoming>SequenceFlow_0d75n6a</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0rk4s8x</bpmn:outgoing>
      <bpmn:script>return token.current + 1</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="Objectify" name="Objectify Token" scriptFormat="">
      <bpmn:incoming>SequenceFlow_0lfa1kc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ypfl9c</bpmn:outgoing>
      <bpmn:script>return JSON.parse(JSON.stringify(token))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="SequenceFlow_1wfvd39" name="Token Value is 1" sourceRef="XORSplit1" targetRef="Task2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">token.current == 1</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:scriptTask id="Task5" name="Throw Exception" scriptFormat="">
      <bpmn:incoming>SequenceFlow_179mjcx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_18ovsv0</bpmn:outgoing>
      <bpmn:script>throw Error("This Path should never be excecuted")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:association id="Association_17y8szg" sourceRef="Task6" targetRef="TextAnnotation_1n4zy11" />
    <bpmn:textAnnotation id="TextAnnotation_1n4zy11">
      <bpmn:text>After this task, the token value should be 4.</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0kqk772">
      <bpmn:text>The Expected token value is 4</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1aponsw" sourceRef="EndEvent" targetRef="TextAnnotation_0kqk772" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1cidyxu">
      <bpmndi:BPMNShape id="Participant_0px403d_di" bpmnElement="Participant_0px403d">
        <dc:Bounds x="5" y="-233" width="1811.2753036437248" height="554" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="101" y="65" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="109" y="101" width="21" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1xzf0d3_di" bpmnElement="Lane_1xzf0d3">
        <dc:Bounds x="35" y="-233" width="1781.2753036437248" height="554" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0d8w0rw_di" bpmnElement="SequenceFlow_0d8w0rw">
        <di:waypoint x="137" y="83" />
        <di:waypoint x="210" y="83" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="173.5" y="61.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_1191jyv_di" bpmnElement="Task1">
        <dc:Bounds x="210" y="43" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0jg6maf_di" bpmnElement="XORSplit1" isMarkerVisible="true">
        <dc:Bounds x="400.57498404594764" y="58" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="425.57498404594764" y="111" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ki3kdr_di" bpmnElement="SequenceFlow_1ki3kdr">
        <di:waypoint x="310" y="83" />
        <di:waypoint x="401" y="83" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="355.5" y="61" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_03wd2mx_di" bpmnElement="SequenceFlow_03wd2mx">
        <di:waypoint x="426" y="108" />
        <di:waypoint x="426" y="216" />
        <di:waypoint x="545" y="216" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="441" y="156" width="73" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_1nb9dhl_di" bpmnElement="Task2">
        <dc:Bounds x="545" y="-70" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ScriptTask_0qipsu8_di" bpmnElement="Task3">
        <dc:Bounds x="545" y="177" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_14glemw_di" bpmnElement="XORSplit2" isMarkerVisible="true">
        <dc:Bounds x="704.8525845564774" y="-55" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="729.8525845564774" y="-2" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ggq5hl_di" bpmnElement="SequenceFlow_1ggq5hl">
        <di:waypoint x="645" y="-30" />
        <di:waypoint x="705" y="-30" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="675" y="-51.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0dyanim_di" bpmnElement="SequenceFlow_0dyanim">
        <di:waypoint x="730" y="-55" />
        <di:waypoint x="730" y="-143" />
        <di:waypoint x="827" y="-143" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="738" y="-102" width="79" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_1vr2g0l_di" bpmnElement="Task4">
        <dc:Bounds x="827" y="-182" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_179mjcx_di" bpmnElement="SequenceFlow_179mjcx">
        <di:waypoint x="730" y="-5" />
        <di:waypoint x="730" y="58" />
        <di:waypoint x="848" y="58" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="741.1494845360825" y="7" width="89" height="25" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_083l87x_di" bpmnElement="Task5">
        <dc:Bounds x="848" y="18" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_01j93hp_di" bpmnElement="XORJoin2" isMarkerVisible="true">
        <dc:Bounds x="1015.3925667828107" y="-55" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1040.3925667828107" y="-2" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_003m52o_di" bpmnElement="SequenceFlow_003m52o">
        <di:waypoint x="927" y="-142" />
        <di:waypoint x="1040" y="-142" />
        <di:waypoint x="1040" y="-55" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="983.5" y="-163.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_18ovsv0_di" bpmnElement="SequenceFlow_18ovsv0">
        <di:waypoint x="948" y="58" />
        <di:waypoint x="1040" y="58" />
        <di:waypoint x="1040" y="-5" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="994" y="36.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1vb0f00_di" bpmnElement="XORJoin1" isMarkerVisible="true">
        <dc:Bounds x="1226.3925667828107" y="192" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1251.3925667828107" y="245" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0dmyg5b_di" bpmnElement="SequenceFlow_0dmyg5b">
        <di:waypoint x="645" y="217" />
        <di:waypoint x="936" y="217" />
        <di:waypoint x="936" y="217" />
        <di:waypoint x="1226" y="217" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="951" y="210.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0d75n6a_di" bpmnElement="SequenceFlow_0d75n6a">
        <di:waypoint x="1065" y="-30" />
        <di:waypoint x="1202" y="-30" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1133.5" y="-51.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0rk4s8x_di" bpmnElement="SequenceFlow_0rk4s8x">
        <di:waypoint x="1251" y="10" />
        <di:waypoint x="1251" y="192" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1266" y="94.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0lfa1kc_di" bpmnElement="SequenceFlow_0lfa1kc">
        <di:waypoint x="1276" y="217" />
        <di:waypoint x="1327" y="217" />
        <di:waypoint x="1327" y="217" />
        <di:waypoint x="1379" y="217" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1342" y="210.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1n4zy11_di" bpmnElement="TextAnnotation_1n4zy11">
        <dc:Bounds x="1348.748" y="-92" width="99.99305040770942" height="55.9905485544848" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_17y8szg_di" bpmnElement="Association_17y8szg">
        <di:waypoint x="1302" y="-42" />
        <di:waypoint x="1349" y="-52" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1foz7ns_di" bpmnElement="EndEvent">
        <dc:Bounds x="1570.748" y="199" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1579" y="238" width="20" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ypfl9c_di" bpmnElement="SequenceFlow_1ypfl9c">
        <di:waypoint x="1479" y="217" />
        <di:waypoint x="1571" y="217" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1525" y="195.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ScriptTask_1f5o78r_di" bpmnElement="Task6">
        <dc:Bounds x="1202" y="-70" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ScriptTask_043l5dk_di" bpmnElement="Objectify">
        <dc:Bounds x="1379" y="177" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1wfvd39_di" bpmnElement="SequenceFlow_1wfvd39">
        <di:waypoint x="426" y="58" />
        <di:waypoint x="426" y="-30" />
        <di:waypoint x="545" y="-30" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="442" y="3" width="80" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0kqk772_di" bpmnElement="TextAnnotation_0kqk772">
        <dc:Bounds x="1616.2753036437248" y="156.582995951417" width="99.99156545209178" height="40.48582995951417" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1aponsw_di" bpmnElement="Association_1aponsw">
        <di:waypoint x="1605" y="209" />
        <di:waypoint x="1627" y="197" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
